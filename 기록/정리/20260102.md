# 일기 CRUD

- 중요한 점 : 권한 체크 하는 부분

```java
if(!diaryMemberRepository.existsByUserAndDiaryGroup_Id(user,groupId)) {
    throw new RuntimeException("해당 다이어리를 볼 권한이 없습니다.");
}
```

- existsByUserAndDiaryGroup_Id() 이런 식으로 적으면 @Query문을 안써도 조회 가능

- Spring Data JPA는 인터페이스에 선언된 메서드의 이름을 분석하여 자동으로 JPQL을 생성. 이를 **메서드 이름 파생(Query Derivation)** 이라고 함.

- DiaryGroup_Id는 DiaryMember 엔티티 안에 있는 DiaryGroup 엔티티로 들어가서, 그 안의 id 값을 찾겠다는 뜻

- 언더바(\_)를 사용하면 명시적으로 "여기서부터는 하위 엔티티의 속성이다" 라고 구분해주는 역할